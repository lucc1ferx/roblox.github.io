!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=CoreUtilities,n=React,r=e.n(n),a=ReactDOM,i=PropTypes,l=e.n(i),o=ReactUtilities,c=HeaderScripts;function u(e){return e=e.translate,r().createElement("div",{className:"container-header"},r().createElement("h2",null,e("Heading.Statistics")))}u.propTypes={translate:l().func.isRequired};var s=u;function d(e){var t=e.label,n=e.value;e=e.translate;return r().createElement("li",{className:"profile-stat"},r().createElement("p",{className:"text-label"},e(t)),r().createElement("p",{className:"text-lead"},n))}d.propTypes={label:l().string.isRequired,value:l().string.isRequired,translate:l().func.isRequired};var f=d;function m(e){var n=e.label,a=e.gameData,i=(e=e.translate,0);return a.forEach((function(e){i+=Number.isNaN(e.placeVisits)?0:e.placeVisits})),i=t.numberFormat.getNumberFormat(i),r().createElement(f,{translate:e,label:n,value:i})}m.propTypes={label:l().string.isRequired,gameData:l().arrayOf(l().shape({placeVisits:l().number})).isRequired,translate:l().func.isRequired};var p=m,v=(i=Roblox).EnvironmentUrls.gamesApi,b=i.EnvironmentUrls.usersApi,h="Public",g=function(e,n){return n={accessFilter:h,cursor:n,limit:50},t.httpService.get(function(e){return{url:"".concat(v,"/v2/users/").concat(e,"/games"),withCredentials:!0}}(e),n).then((function(e){return e.data}))},y=function(e){return t.httpService.get(function(e){return{url:"".concat(b,"/v1/users/").concat(e),withCredentials:!0}}(e),{}).then((function(e){return e.data}))};function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){function t(e){m(new Date(e).toLocaleDateString())}var a,i,l=e.translate,o=c.authenticatedUser.created,u=c.authenticatedUser.id,d=(a=w((0,n.useState)([]),2))[0],m=a[1],v=(e=(b=w((0,n.useState)([]),2))[0],b[1]),b=(a=w((0,n.useState)(!1),2))[0],h=a[1],E=(a=w((0,n.useState)(!1),2))[0],R=a[1],S=null!=(i=(i=null===(a=window)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.pathname)?i.split("/"):[])&&i.length&&3<i.length&&!Number.isNaN(i[2])?i[2]:u,N=parseInt(S,10)===u,D=(0,n.useCallback)((function(){N?t(o):y(S).then((function(e){null!=e&&e.created&&t(null==e?void 0:e.created)})).catch(console.debug)}),[o,N,S]),q=(0,n.useCallback)((function(e,t){g(S,t).then((function(n){var r,a;n&&(r=n.nextPageCursor,a=n.data,n=(n=e).concat(a),r&&t!==r?q(n,r):(v(n),h(!0)))}),(function(){0<e.length&&(v(e),h(!0))})).catch(console.debug)}),[S]),C=(0,n.useRef)(),O=(0,n.useCallback)((function(){var e;(null===(e=C.current)||void 0===e?void 0:e.getBoundingClientRect().top)<window.pageYOffset+window.innerHeight&&(E?window.removeEventListener("scroll",O):(R(!0),q([]),D()))}),[q,E]);return(0,n.useEffect)((function(){return E||(O(),window.addEventListener("scroll",O)),function(){window.removeEventListener("scroll",O)}}),[E,O]),r().createElement("div",{className:"section profile-statistics",ref:C},r().createElement(s,{translate:l}),r().createElement("div",{className:"section-content"},r().createElement("ul",{className:"profile-stats-container"},r().createElement(f,{translate:l,label:"Label.JoinDate",value:d}),b&&r().createElement(p,{translate:l,label:"Label.PlaceVisits",gameData:e}))))}R.propTypes={translate:l().func.isRequired};var S=R;function N(e){return e=e.translate,r().createElement(S,{translate:e})}N.propTypes={translate:l().func.isRequired};var D=(0,o.withTranslations)(N,{common:[],feature:"Feature.Profile"});(0,t.ready)((function(){(0,a.render)(r().createElement(D,null),document.getElementById("profile-statistics-container"))}))}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("ProfileStatistics");