!function(){var e={779:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o,i=typeof n;if("string"==i||"number"==i)e.push(n);else if(Array.isArray(n))!n.length||(o=a.apply(null,n))&&e.push(o);else if("object"==i)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var c in n)r.call(n,c)&&n[c]&&e.push(c);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},226:function(e){e.exports='module.exports = __webpack_public_path__ + "../html/navigation.html";'}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=React,t=n.n(e),r=CoreUtilities,a=ReactDOM,o=Roblox,i=n.n(o),c=HeaderScripts,l=ReactUtilities,u={arrowUp:38,arrowDown:40,tab:9,enter:13},s={name:"Roblox.Logout"},m=1,d={clickMerchandise:"clickMerchandiseInLeftNav",goToAmazonStore:"clickContinueToAmazonStore"},f="FriendshipNotifications",p="Roblox.Friends.CountChanged",v={name:"Roblox.Messages.CountChanged"},b="?",y="Response.InternalServerErrorDescription",g={name:"headerMenuIconClick"},h={quickLogin:"quickLogin",logout:"logout",settings:"settings",switchAccountKey:"switchAccountKey"},S=1e4,E=1e4,w="control",C="hideCreditAndRobux",x="showCreditAndRobux",A="RBXASAccountSwitched",O="Description.AccountSwitchedConfirmationBannerText",N={common:["CommonUI.Features","CommonUI.Messages","Common.AlertsAndOptions","Common.Presence"],feature:"Feature.ShopDialog"},I=PropTypes,R=n.n(I),k=n(779),P=n.n(k),T=ReactStyleGuide,U=RobloxThumbnails,L=RobloxBadges,j=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},D=o.Endpoints.getAbsoluteUrl,q=o.EnvironmentUrls.authApi,M={url:D("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"],icon:"icon-menu-games-off"},B=(I={url:D("/catalog?CatalogContext=1&Keyword="),label:"Heading.Marketplace",pageSort:["catalog","inventory","bundles","my/avatar","trades"],icon:"icon-menu-shop"},k=[{url:D("/search/users?keyword="),label:"Label.Players",pageSort:["users"],icon:"icon-menu-profile"},I,{url:D("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"],icon:"icon-menu-groups"},{url:D("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"],icon:"icon-menu-library"}],{creatorMarketplaceUrl:"https://create."+o.EnvironmentUrls.domain+"/marketplace/models?keyword=",scrollListItems:{home:{url:D("/"),idSelector:"nav-home",iconClass:"icon-nav-home",name:"home",labelTranslationKey:"Label.sHome"},profile:{url:D("/users/"+c.authenticatedUser.id+"/profile"),idSelector:"nav-profile",iconClass:"icon-nav-profile",name:"profile",labelTranslationKey:"Label.sProfile"},messages:{url:D("/my/messages/#!/inbox"),urlForNotification:D("/my/messages/#!/inbox"),idSelector:"nav-message",iconClass:"icon-nav-message",name:"messages",labelTranslationKey:"Label.sMessages"},friends:{url:D("/users/friends"),urlForNotification:D("/users/friends#!/friend-requests"),idSelector:"nav-friends",iconClass:"icon-nav-friends",name:"friends",labelTranslationKey:"Label.sFriends"},avatar:{url:D("/my/avatar"),idSelector:"nav-character",iconClass:"icon-nav-charactercustomizer",name:"avatar",labelTranslationKey:"Label.sAvatar"},inventory:{url:D("/users/"+c.authenticatedUser.id+"/inventory"),idSelector:"nav-inventory",iconClass:"icon-nav-inventory",name:"inventory",labelTranslationKey:"Label.sInventory"},trade:{url:D("/trades"),urlForNotification:D("/trades"),idSelector:"nav-trade",iconClass:"icon-nav-trade",name:"trade",labelTranslationKey:"Label.sTrade"},groups:{url:D("/my/groups"),idSelector:"nav-group",iconClass:"icon-nav-group",name:"groups",labelTranslationKey:"Label.sGroups"},blog:{url:D("https://blog.roblox.com"),idSelector:"nav-blog",iconClass:"icon-nav-blog",name:"blog",labelTranslationKey:"Label.sBlog",blankTarget:!0},shop:{isModal:!0,idSelector:"nav-shop",iconClass:"icon-nav-shop",name:"shop",labelTranslationKey:"Label.OfficialStore"},giftcards:{url:D("/giftcards-us"),idSelector:"nav-giftcards",iconClass:"icon-nav-giftcards",name:"giftcards",labelTranslationKey:"Label.GiftCards"}},upgradeButton:{url:D("/premium/membership?ctx=leftnav"),labelTranslationKey:c.authenticatedUser.isPremiumUser?"ActionsPremium":"ActionsGetPremium"},sponsorEvents:{label:{labelTranslationKey:"Label.sEvents"},events:{}},gameSearchLink:M,avatarSearchLink:I,miscSearchLink:k,universalSearchUrls:[{url:D("/search/users?keyword="),label:"Label.Players",pageSort:[]},{url:D("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"]},{url:D("/catalog/browse.aspx?CatalogContext=1&Keyword="),label:"Label.sCatalog",pageSort:["catalog","inventory","bundles"]},{url:D("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"]},{url:D("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"]}],newUniversalSearchUrls:j([M],k),settingsUrl:{settings:{url:D("/my/account"),label:"Label.sSettings"},quickLogin:{url:D("/home"),label:"Label.sQuickLogin"},help:{url:D("/info/help?locale="),label:"Label.sHelp"},switchAccountKey:{url:D("/home"),label:"Label.sSwitchAccount"},logout:{url:q+"/v2/logout",label:"Label.sLogout"}},buyRobuxUrl:{myTransactions:{url:D("/transactions"),label:"Label.MyMoney"},buyRobux:{url:D("/upgrades/robux?ctx=navpopover"),label:"Label.sBuyRobux"}},userDataUrl:D("/navigation/userData"),quickLoginUrl:D("/crossdevicelogin/ConfirmCode"),redeemUrl:{url:D("/redeem"),label:"Heading.RedeemRobloxCodes"}}),_=o.Endpoints.getAbsoluteUrl,F=o.EnvironmentUrls.authApi,G=o.EnvironmentUrls.accountSettingsApi,K=(o.EnvironmentUrls.websiteUrl,o.EnvironmentUrls.adsApi,o.EnvironmentUrls.economyApi),Q=o.EnvironmentUrls.privateMessagesApi,V=o.EnvironmentUrls.tradesApi,W=o.EnvironmentUrls.friendsApi,H=o.EnvironmentUrls.apiGatewayUrl,$=(j=function(){return _("/account/signupredir")},M=function(e,t){return _("/".concat(e.toLowerCase(),"/").concat(t))},function(){return _("/login")}),z=(k=function(){return _("/newLogin")},q=function(){return _("/CreateAccount")},function(e){return"".concat(K,"/v1/users/").concat(e,"/currency")}),X=function(){var e={url:"".concat(Q,"/v1/messages/unread/count"),withCredentials:!0};return r.httpService.get(e)},Y=function(){var e={url:"".concat(V,"/v1/trades/inbound/count"),withCredentials:!0};return r.httpService.get(e)},J=function(){var e={url:"".concat(W,"/v1/user/friend-requests/count"),withCredentials:!0};return r.httpService.get(e)},Z=CoreRobloxUtilities;function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=Z.dataStores.userDataStore.maxFriendRequestNotificationCount;function ne(e){var n=e.translate,a=e.idSelector,o=e.isModal,i=e.name,c=e.iconClass,l=e.labelTranslationKey,u=e.url,s=e.urlForNotification,m=e.onClickShopLink,d=e.friendsData,f=e.messagesData,p=e.tradeData,v=e.blankTarget;u=null!=(e=(ee(e={},B.scrollListItems.friends.name,d),ee(e,B.scrollListItems.messages.name,f),ee(e,B.scrollListItems.trade.name,p),e)[i])&&e.count?s:u,v=v?"_blank":"_self";return o?t().createElement("li",{key:i},t().createElement("button",{id:a,type:"button",onClick:m,className:"dynamic-overflow-container text-nav"},t().createElement("div",null,t().createElement("span",{className:c})),t().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},n(l)))):t().createElement("li",{key:i},t().createElement(T.Link,{url:u,id:a,className:"dynamic-overflow-container text-nav",target:v},t().createElement("div",null,t().createElement("span",{className:c})),t().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},n(l)),e&&0<e.count&&t().createElement("div",{className:"dynamic-width-item align-right"},t().createElement("span",{className:"notification-blue notification",title:r.numberFormat.getNumberFormat(e.count)},function(e,t){return e===B.scrollListItems.friends.name&&te<=t?"".concat(te,"+"):r.abbreviateNumber.getTruncValue(t,1e3)}(i,e.count)))))}ne.defaultProps={idSelector:"",url:"",urlForNotification:"",isModal:!1,blankTarget:!1,friendsData:{count:0},messagesData:{count:0},tradeData:{count:0}},ne.propTypes={idSelector:R().string,translate:R().func.isRequired,isModal:R().bool,name:R().string.isRequired,iconClass:R().string.isRequired,labelTranslationKey:R().string.isRequired,url:R().string,urlForNotification:R().string,onClickShopLink:R().func.isRequired,blankTarget:R().bool,friendsData:R().shape({count:R().number}),messagesData:R().shape({count:R().number}),tradeData:R().shape({count:R().number})};var re=ne;function ae(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(D=Z.eventStreamService.eventTypes).pageLoad,R().func.isRequired,R().instanceOf(Array);var ce=B.universalSearchUrls,le=B.newUniversalSearchUrls,ue=B.avatarSearchLink,se=m,me=!c.authenticatedUser.isAuthenticated,de=(D=function(){var e=c.authenticatedUser.created;return function(){var e={url:"".concat(G,"/v1/email"),withCredentials:!0};return r.httpService.get(e)}().then((function(t){var n,r=t.data.verified;return n=e,t=r,r=new Date,n=new Date(n),+(se<(r-n)/864e5&&!t)})).catch((function(e){console.debug(e)}))},function(e){o.EventStream&&o.EventStream.SendEventWithTarget(e,"click",{},o.EventStream.TargetTypes.WWW)}),fe=function(e){if(me||!o.RealTime)return function(){};document.addEventListener(p,e);var t=o.RealTime.Factory.GetClient();return t.Subscribe(f,e),function(){document.removeEventListener(p,e),t.Unsubscribe(f,e)}},pe=function(e){return me||!o.RealTime?function(){}:(document.addEventListener(v,e),function(){document.removeEventListener(v,e)})},ve=function(){var e;return null!==(e=(null===(e=window)||void 0===e?void 0:e.innerWidth)<543)&&e},be=function(){var e=ae(ce);return e.sort((function(e){return e.pageSort.reduce((function(e,t){return e||-1<window.location.href.indexOf(t)}),!1)?-1:1})),e},ye=function(){var e=(t=ae(le)).filter((function(e){return e.pageSort.some((function(e){return-1<window.location.pathname.indexOf(e)}))})),t=t.filter((function(e){return e.pageSort.every((function(e){return-1===window.location.pathname.indexOf(e)}))}));return[].concat(ae(e),ae(t))},ge=function(){return document.getElementById("navigation-container")&&document.getElementById("navigation-container").className},he=function(e){var t={};return("?"===e[0]?e.substr(1):e).split("&").forEach((function(e){var n;e.includes("=")&&(e=(n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("="),2))[0],n=n[1],t[null===(e=decodeURIComponent(e))||void 0===e?void 0:e.toLowerCase()]=decodeURIComponent(n))})),t};function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ee(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=d;function Ae(n){var r=n.translate,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,["translate"]),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),l=i[0],u=i[1],s=(0,e.useCallback)((function(){u((function(e){return!e})),de(xe.clickMerchandise)}),[]),m=function(){u(!1)},d=Object.values(B.scrollListItems).map((function(e){return t().createElement(re,Se({key:e.name},we(we({translate:r,onClickShopLink:s},e),a)))}));n=t().createElement("li",{className:"rbx-upgrade-now"},t().createElement("a",{href:B.upgradeButton.url,className:"btn-growth-md btn-secondary-md",onClick:function(){Z.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(Z.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PREMIUM_PURCHASE,!1,Z.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEFT_NAVIGATION_BAR,Z.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,c.authenticatedUser.isPremiumUser?Z.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.PREMIUM:Z.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.GET_PREMIUM)},id:"upgrade-now-button"},r(B.upgradeButton.labelTranslationKey))),i=t().createElement(t().Fragment,null,t().createElement("p",{className:"shop-description"},r("Description.RetailWebsiteRedirect")),t().createElement("p",{className:"shop-warning"},r("Description.PurchaseAgeWarning"))),m=t().createElement(T.SimpleModal,{title:r("Heading.LeavingRoblox"),body:i,show:l,actionButtonShow:!0,actionButtonText:r("Action.Continue"),neutralButtonText:r("Action.Cancel"),onAction:function(){var e=decodeURIComponent(o.EnvironmentUrls.amazonWebStoreLink);window.open(e,"_blank"),de(xe.goToAmazonStore)},onNeutral:m,onClose:m});return t().createElement("ul",{className:"left-col-list"},d,n,!1,m)}Ae.defaultProps={sponsoredPagesData:[]},Ae.propTypes={sponsoredPagesData:R().instanceOf(Array),translate:R().func.isRequired};var Oe=Ae;function Ne(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(n){var r=c.authenticatedUser.isAuthenticated,a=Ie((0,e.useState)({}),2),o=a[0],i=a[1],l=(s=Ie((0,e.useState)({}),2))[0],u=s[1],s=(a=Ie((0,e.useState)({}),2))[0],m=a[1];return(0,e.useEffect)((function(){var e=function(){},t=function(){};return r&&(e=fe((function(){J().then((function(e){e=e.data,i(e)}),(function(e){console.debug(e)}))})),t=pe((function(){X().then((function(e){e=e.data,u(e)}))})),J().then((function(e){e=e.data,i(e)}),(function(e){console.debug(e)})),X().then((function(e){e=e.data,u(e)}),(function(e){console.debug(e)})),Y().then((function(e){e=e.data,m(e)}),(function(e){console.debug(e)}))),function(){e(),t()}}),[]),t().createElement(Oe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({friendsData:o,messagesData:l,tradeData:s},n))}I=c.authenticatedUser.name,M=c.authenticatedUser.displayName;var Pe={nameForDisplay:null!==o.DisplayNames&&void 0!==o.DisplayNames&&o.DisplayNames.Enabled()?M:I,nameForHeader:null!==o.DisplayNames&&void 0!==o.DisplayNames&&o.DisplayNames.Enabled()?r.concatTexts.concat(["",I]):I};function Te(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(n){var r=n.isLeftNavOpen,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,["isLeftNavOpen"]),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),i=(n=o[0],o[1]),l=(0,e.useRef)(null);return(0,e.useEffect)((function(){(function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:return e.prev=4,e.next=7,(0,L.robloxBadgesReadyForRender)();case 7:e.sent&&i((0,L.currentUserHasVerifiedBadge)()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),i(!1);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Te(o,r,a,i,c,"next",e)}function c(e){Te(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}})()().catch((function(){}))}),[r,l]),o=n&&L.VerifiedBadgeIconContainer?t().createElement("section",{ref:function(e){l.current=e}},t().createElement(L.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-header",size:L.BadgeSizes.CAPTIONHEADER})):null,r=P()("rbx-left-col",{"nav-show":r}),n=P()("font-header-2 dynamic-ellipsis-item",{"verified-badge-left-nav":n}),t().createElement("div",{id:"navigation",className:r},t().createElement("ul",null,t().createElement("li",{key:"username"},t().createElement(T.Link,{className:"dynamic-overflow-container text-nav",role:"link",url:B.scrollListItems.profile.url},t().createElement("span",{className:"avatar avatar-headshot-xs"},t().createElement(U.Thumbnail2d,{containerClass:"avatar-card-image",targetId:c.authenticatedUser.id,type:U.ThumbnailTypes.avatarHeadshot,altName:c.authenticatedUser.name})),t().createElement("div",{className:n},Pe.nameForDisplay),o)),t().createElement("li",{key:"divider",className:"rbx-divider"})),t().createElement(T.ScrollBar,{className:"rbx-scrollbar"},t().createElement(ke,a)))}Le.propTypes={isLeftNavOpen:R().bool.isRequired};var je=Le;function De(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Me=g;function Be(){return document.getElementById("navigation-container")}var _e,Fe=(0,l.withTranslations)((function(n){var r=c.authenticatedUser.isAuthenticated,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),o=a[0],i=a[1],l=(0,e.useCallback)((function(){i(!o)}),[o]);return(0,e.useEffect)((function(){return document.addEventListener(Me.name,l),function(){document.removeEventListener(Me.name,l)}}),[l]),r?t().createElement(je,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isLeftNavOpen:o},n)):null}),N),Ge=(m=o.EnvironmentUrls.apiGatewayUrl,d=o.EnvironmentUrls.apiGatewayCdnUrl,o.EnvironmentUrls.localeApi,{experimentLayer:"Website.TopNavSearchBox",debounceTimeout:100,debouncedSearchInputMaxLength:35,expiryTimeout:5e3,variationId:1,trendingVariationId:0,avatarAutocompleteQueryPaddingAmount:10,requestSuggestionUrl:{url:m+"/games-autocomplete/v1/request-suggestion",withCredentials:!0},getSuggestionUrl:{url:m+"/games-autocomplete/v1/get-suggestion/",withCredentials:!0},avatarRequestSuggestionUrl:{url:m+"/autocomplete-avatar/v2/suggest",withCredentials:!0},avatarRequestSuggestionCdnUrl:{url:d+"/autocomplete-avatar/v2/suggest",withCredentials:!0},englishLanguageCode:"en",avatarAutocompleteUrlLocations:["Catalog","Trades","Inventory","Avatar","CatalogItem"],avatarAutocompleteSuggestionLimit:5,isSpecialTreatmentAutocompleteRestricted:function(){return 7===parseInt(Be().dataset.numberOfAutocompleteSuggestions,10)&&B.miscSearchLink.reduce((function(e,t){return e.push.apply(e,t.pageSort),e}),[]).reduce((function(e,t){return e||-1<window.location.pathname.indexOf(t)}),!1)},isSpecialTreatment:function(){var e;return 7===parseInt(null===(e=Be())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfSpecialTreatmentAutocompleteSuggestions:3,isAutocompleteSuggestionsIXPTestEnabled:function(){var e;return 0<parseInt(null===(e=Be())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfAutocompleteSuggestions:function(){var e;return parseInt(null===(e=Be())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)||0},isRedirectLibraryToCreatorMarketplaceEnabled:function(){var e;return"True"===(null===(e=Be())||void 0===e?void 0:e.dataset.isRedirectLibraryToCreatorMarketplaceEnabled)}}),Ke=function(){return(Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Qe=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function c(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},Ve=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},We=r.httpService.createCancelToken();function He(e){return void 0===(null==e?void 0:e.label)}function $e(e){return void 0!==(null==e?void 0:e.Query)}function ze(e){if($e(e))return"avatar";switch(e.type){case _e.QuerySuggestion:return"keyword";case _e.GameSuggestion:return"game";default:throw Error("Unrecognized autocomplete suggestion, ".concat(JSON.stringify(e)))}}function Xe(e){switch(e.label){case"Label.Players":return"defaultPlayers";case"Heading.Marketplace":case"Label.AvatarShop":case"Label.sCatalog":return"defaultShops";case"Label.sGroups":return"defaultGroups";case"Label.CreatorMarketplace":return"defaultLibrary";case"Label.Experience":return"defaultGames";default:throw Error("Unrecognized default suggestion, ".concat(JSON.stringify(e)))}}(m=_e=_e||{})[m.GameSuggestion=0]="GameSuggestion",m[m.QuerySuggestion=1]="QuerySuggestion",m[m.TrendingQuerySuggestion=2]="TrendingQuerySuggestion";var Ye=function(e){return Qe(void 0,void 0,Promise,(function(){return Ve(this,(function(t){switch(t.label){case 0:return We.cancel(),We=r.httpService.createCancelToken(),[4,r.httpService.get(Ke(Ke({},Ge.getSuggestionUrl),{url:Ge.getSuggestionUrl.url+encodeURIComponent(e.toLowerCase()),cancelToken:We.token}))];case 1:return[2,t.sent().data]}}))}))},Je=function(e,t,n,a,o){return void 0===o&&(o=!1),Qe(void 0,void 0,Promise,(function(){var i;return Ve(this,(function(c){switch(c.label){case 0:return null===(i=t)&&(i=Ge.englishLanguageCode),i={prefix:e.toLowerCase(),limit:n,lang:i,q:a},We.cancel(),We=r.httpService.createCancelToken(),o?[4,r.httpService.get(Ke(Ke({},Ge.avatarRequestSuggestionUrl),{timeout:Ge.expiryTimeout,cancelToken:We.token,fullError:!0}),i)]:[3,2];case 1:case 3:return[2,c.sent().data];case 2:return[4,r.httpService.get(Ke(Ke({},Ge.avatarRequestSuggestionCdnUrl),{timeout:Ge.expiryTimeout,cancelToken:We.token,fullError:!0}),i)]}}))}))},Ze=He,et=$e,tt=ze,nt=Xe,rt=function(e,t){return e.map((function(e){return He(e)?"".concat(ze(e),"|").concat(e.searchQuery):"".concat(Xe(e),"|").concat(t)})).join(",")},at=Z.eventStreamService.eventTypes,ot="searchAutocomplete",it={actionTypes:{open:"open",submit:"submit",close:"close"},generateSessionInfo:r.uuidService.generateRandomUuid,searchTextTrim:function(e,t,n,r){return[{name:"searchTextTrim",type:at.formInteraction,context:ot},{kwd:e,resultingKwd:t,searchType:n,sessionInfo:r}]},searchClear:function(e,t,n,r){return[{name:"searchClear",type:at.formInteraction,context:ot},{kwd:e,searchType:t,sessionInfo:n,page:r}]},searchSuggestionClicked:function(e,t,n,r,a,o,i){return[{name:"searchSuggestionClicked",type:at.formInteraction,context:ot},{kwd:e,searchType:t,suggestionPosition:n,suggestionClicked:r,suggestionType:a,suggestions:o,sessionInfo:i}]},searchAutocomplete:function(e,t,n,r,a,o,i,c,l,u){return[{name:"searchAutocomplete",type:at.formInteraction,context:ot},{kwd:e,previousKwd:t,fromLocalCache:n,suggestions:r,algorithm:a,latency:o,timeoutDelayMs:i,sessionInfo:c,page:l,isPersonalizedBasedOnPreviousQuery:u}]},search:function(e,t,n){return[{name:"search",type:at.formInteraction,context:ot},{kwd:e,actionType:t,sessionInfo:n}]},catalogSearch:function(e,t){return[{name:"catalogSearch",type:at.formInteraction,context:ot},{autocompleteFlag:e,previousPage:t}]}};function ct(e,t){if(e){if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ut(e){var n=e.translate,r=e.searchInput,a=e.indexOfSelectedOption,o=e.autocompleteSessionInfo,i=e.resetAutocompleteSessionInfo,c=be();return t().createElement(t().Fragment,null,Object.entries(c).map((function(e){var l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),u=l[0],s=l[1],m=s.url;e=s.label,l=P()("navbar-search-option rbx-clickable-li",parseInt(u,10)===a?" selected":"");return t().createElement("li",{key:u,className:l},t().createElement(T.Link,{className:"navbar-search-anchor",url:m+r,onClick:function(){Z.eventStreamService.sendEvent.apply(Z.eventStreamService,function(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(it.searchSuggestionClicked(r,void 0,u,r,nt(s),rt(c,r),o))),i()}},n("Label.sSearchPhrase",{phrase:r,location:n(e)})))})))}ut.propTypes={translate:R().func.isRequired,searchInput:R().string.isRequired,indexOfSelectedOption:R().number.isRequired,autocompleteSessionInfo:R().string.isRequired,resetAutocompleteSessionInfo:R().func.isRequired};var st=ut;function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dt=B.gameSearchLink,ft=B.avatarSearchLink,pt=B.creatorMarketplaceUrl;function vt(n){var r=n.translate,a=n.selected,o=n.suggestion,i=n.onClick,c=P()("navbar-search-option rbx-clickable-li",{"new-selected":a}),l=o.type,u=o.universeId,s=(n=o.searchQuery,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),o=a[0],a[1]);return l===_e.GameSuggestion?t().createElement("li",{className:c},t().createElement(T.Link,{className:"new-navbar-search-anchor",url:dt.url+encodeURIComponent(n),onClick:i},t().createElement("span",{className:P()(dt.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},n),t().createElement("span",{className:"navbar-list-option-suffix"},r("Label.sSearchPhraseV2",{location:r(dt.label)})),t().createElement("span",{className:P()("navbar-list-option-thumbnail",{"navbar-list-option-thumbnail-visible":o})},t().createElement("span",{className:"background-icon"}),t().createElement(U.Thumbnail2d,{type:U.ThumbnailTypes.gameIcon,size:U.DefaultThumbnailSize,targetId:u,containerClass:"thumbnail-icon",format:U.ThumbnailFormat.jpeg,onLoad:function(){s(!0)}})))):t().createElement("li",{className:c},t().createElement(T.Link,{className:"new-navbar-search-anchor",url:dt.url+encodeURIComponent(n),onClick:i},t().createElement("span",{className:P()(dt.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},n),t().createElement("span",{className:"navbar-list-option-suffix"},r("Label.sSearchPhraseV2",{location:r(dt.label)}))))}function bt(e){var n=e.translate,r=e.selected,a=e.suggestion;e=e.onClick,r=P()("navbar-search-option rbx-clickable-li",{"new-selected":r}),a=a.Query;return t().createElement("li",{className:r},t().createElement(T.Link,{className:"new-navbar-search-anchor",url:ft.url+encodeURIComponent(a),onClick:e},t().createElement("span",{className:P()(ft.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},a),t().createElement("span",{className:"navbar-list-option-suffix"},n("Label.sSearchPhraseV2",{location:n(ft.label)}))))}function yt(e){var n=e.translate,r=e.selected,a=e.searchInput,o=e.suggestion,i=e.onClick,c=o.url;e=o.label,o=o.icon,c=(0,Ge.isRedirectLibraryToCreatorMarketplaceEnabled)()&&"Label.CreatorMarketplace"===e?pt:c,r=P()("navbar-search-option rbx-clickable-li",{"new-selected":r});return t().createElement("li",{className:r},t().createElement(T.Link,{className:"new-navbar-search-anchor",url:c+encodeURIComponent(a),onClick:i},t().createElement("span",{className:P()(o,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},a.toLowerCase()),t().createElement("span",{className:"navbar-list-option-suffix"},n("Label.sSearchPhraseV2",{location:n(e)}))))}function gt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e){function n(e,t){return function(){var n=c[t];Z.eventStreamService.sendEvent.apply(Z.eventStreamService,gt(it.searchSuggestionClicked(o,void 0,t,Ze(n)?n.searchQuery:o,e,rt(c,o),l))),u(),n=e.includes("default")?0:1,Z.eventStreamService.sendEvent.apply(Z.eventStreamService,gt(it.catalogSearch(n,r.pageName.PageNameProvider.getInternalPageName())))}}var a=e.translate,o=e.searchInput,i=e.indexOfSelectedOption,c=e.searchSuggestions,l=e.autocompleteSessionInfo,u=e.resetAutocompleteSessionInfo;return c.map((function(e,r){var c=parseInt(r,10)===i;return Ze(e)&&et(e)?t().createElement(bt,{key:e.Query,translate:a,selected:c,suggestion:e,onClick:n(tt(e),r)}):Ze(e)?t().createElement(vt,{key:e.searchQuery,translate:a,selected:c,suggestion:e,onClick:n(tt(e),r)}):t().createElement(yt,{key:e.url,translate:a,selected:c,suggestion:e,searchInput:o,onClick:n(nt(e),r)})}))}vt.propTypes={translate:R().func.isRequired,selected:R().bool.isRequired,suggestion:R().shape({type:R().number.isRequired,score:R().number.isRequired,universeId:R().number,canonicalTitle:R().string,thumbnailUrl:R().string,searchQuery:R().string.isRequired,trendingSearchStartDateTime:R().string}).isRequired,onClick:R().func.isRequired},bt.propTypes={translate:R().func.isRequired,selected:R().bool.isRequired,suggestion:R().shape({Query:R().string}).isRequired,onClick:R().func.isRequired},yt.propTypes={translate:R().func.isRequired,selected:R().bool.isRequired,searchInput:R().string.isRequired,suggestion:R().shape({url:R().string.isRequired,label:R().string.isRequired,pageSort:R().arrayOf(R().string).isRequired,icon:R().string.isRequired}).isRequired,onClick:R().func.isRequired},St.propTypes={translate:R().func.isRequired,searchInput:R().string.isRequired,indexOfSelectedOption:R().number.isRequired,searchSuggestions:R().arrayOf(R().oneOfType([R().shape({type:R().number.isRequired,score:R().number.isRequired,universeId:R().number.isRequired,canonicalTitle:R().string,thumbnailUrl:R().string,searchQuery:R().string.isRequired,trendingSearchStartDateTime:R().string}),R().shape({url:R().string.isRequired,label:R().string.isRequired,pageSort:R().arrayOf(R().string).isRequired,icon:R().string.isRequired}),R().shape({Query:R().string.isRequired,Score:R().number.isRequired})])).isRequired,autocompleteSessionInfo:R().string.isRequired,resetAutocompleteSessionInfo:R().func.isRequired};var Et=St;function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(n){var a=n.translate,o=n.searchInput,i=n.isMenuOpen,c=n.openMenu,u=n.closeMenu,s=n.handleSearch,m=n.setIsMenuHover,d=n.indexOfSelectedOption,f=n.onSubmit,p=n.onKeyDown,v=n.onKeyUp,b=n.isUniverseSearchShown,y=n.searchSuggestions,g=n.autocompleteSessionInfo,h=n.resetAutocompleteSessionInfo,S=n.isAvatarAutocompleteEnabled,E=(0,e.createRef)(),w=(0,e.createRef)();n=function(){var e;Z.eventStreamService.sendEvent.apply(Z.eventStreamService,function(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(it.searchClear(o,void 0,g,null===r.pageName||void 0===r.pageName||null===(e=r.pageName.PageNameProvider)||void 0===e?void 0:e.getInternalPageName()))),null==E||null!==(e=E.current)&&void 0!==e&&e.focus(),s({target:{value:""}})},b=P()("navbar-left navbar-search col-xs-5 col-sm-6 col-md-2 col-lg-3",{"navbar-search-open":i,shown:b}),S=Ge.isAutocompleteSuggestionsIXPTestEnabled()||S;return(0,l.useOnClickOutside)([E,w],u),t().createElement("div",{"data-testid":"navigation-search-input",className:b,role:"search"},t().createElement("div",{className:"input-group"},t().createElement("form",{onSubmit:f},S?t().createElement("div",{className:"form-has-feedback"},t().createElement("input",{ref:E,id:"navbar-search-input",type:"search",name:"q","data-testid":"navigation-search-input-field",className:"form-control input-field new-input-field",value:o,onChange:s,placeholder:a("Label.sSearch"),maxLength:"120",onFocus:c,onKeyDown:p,onKeyUp:v,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),0<o.length&&t().createElement("span",{"data-testid":"navigation-search-input-clear-button",tabIndex:0,role:"button","aria-label":"Clear Search",onClick:n,onKeyDown:n,className:"clear-search icon-actions-clear-sm"},t().createElement("span",null))):t().createElement("input",{ref:E,id:"navbar-search-input",type:"search",name:"q","data-testid":"navigation-search-input-field",className:"form-control input-field",value:o,onChange:s,placeholder:a("Label.sSearch"),maxLength:"120",onFocus:c,onKeyDown:p,onKeyUp:v,autoComplete:"off"})),t().createElement("div",{className:"input-group-btn"},t().createElement("button",{"data-testid":"navigation-search-input-search-button",className:"input-addon-btn",type:"submit"},t().createElement("span",{className:"icon-common-search-sm"})))),t().createElement("ul",{ref:w,className:P()("dropdown-menu",{"new-dropdown-menu":S}),role:"menu",onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)}},S?t().createElement(Et,{translate:a,searchInput:o,indexOfSelectedOption:d,searchSuggestions:y,autocompleteSessionInfo:g,resetAutocompleteSessionInfo:h}):t().createElement(st,{translate:a,searchInput:o,indexOfSelectedOption:d,autocompleteSessionInfo:g,resetAutocompleteSessionInfo:h})))}Ct.defaultProps={isUniverseSearchShown:!0,isAvatarAutocompleteEnabled:!1},Ct.propTypes={translate:R().func.isRequired,searchInput:R().string.isRequired,isMenuOpen:R().bool.isRequired,openMenu:R().func.isRequired,closeMenu:R().func.isRequired,handleSearch:R().func.isRequired,setIsMenuHover:R().func.isRequired,indexOfSelectedOption:R().number.isRequired,onSubmit:R().func.isRequired,onKeyDown:R().func.isRequired,onKeyUp:R().func.isRequired,isUniverseSearchShown:R().bool,isAvatarAutocompleteEnabled:R().bool,searchSuggestions:R().arrayOf(R().oneOfType([R().shape({type:R().number.isRequired,score:R().number.isRequired,universeId:R().number.isRequired,canonicalTitle:R().string,thumbnailUrl:R().string,searchQuery:R().string.isRequired,trendingSearchStartDateTime:R().string}),R().shape({url:R().string.isRequired,label:R().string.isRequired,pageSort:R().arrayOf(R().string).isRequired,icon:R().string}),R().shape({query:R().string.isRequired,score:R().number.isRequired})])).isRequired,autocompleteSessionInfo:R().string.isRequired,resetAutocompleteSessionInfo:R().func.isRequired};var xt=Ct;function At(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ot(e){return function(e){if(Array.isArray(e))return Rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||It(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||It(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(n){var a=n.translate,i=n.isUniverseSearchShown,c=(w=Nt((0,e.useState)(he(window.location.search).keyword||""),2))[0],s=w[1],m=(0,l.useDebounce)(c,Ge.debounceTimeout),d=(0,l.usePrevious)(m),f=(n=Nt((0,e.useState)(null),2))[0],p=n[1],v=(w=Nt((0,e.useState)(it.generateSessionInfo()),2))[0],b=w[1],y=(n=Nt((0,e.useState)(!1),2))[0],g=n[1],h=(w=Nt((0,e.useState)(!0),2))[0],S=w[1],E=(n=Nt((0,e.useState)(!1),2))[0],w=n[1],C=(n=Nt((0,e.useState)(0),2))[0],x=n[1],A=(n=Nt((0,e.useState)(!1),2))[0],O=n[1],N=(n=Nt((0,e.useState)(!1),2))[0],I=n[1],R=u,k=(n=Nt((0,e.useState)((Ge.isAutocompleteSuggestionsIXPTestEnabled()?ye:be)()),2))[0],P=n[1],T=k.findIndex((function(e){return e.label===B.gameSearchLink.label})),U=ye().findIndex((function(e){return e.label===B.avatarSearchLink.label})),L=function(){var e=(new o.TranslationResourceProvider).intl.locale,t=e.indexOf("-");return(e=e.substring(0,-1!==t?t:e.length))!==Ge.englishLanguageCode&&(e+=",".concat(Ge.englishLanguageCode)),e}();function j(e){if(e){if(D){var t=-1===f.findIndex((function(e){return e.searchQuery===m.toLowerCase()&&et(e)})),n=e.filter((function(e){return e.searchQuery!==m.toLowerCase()||et(e)}));return[].concat(Ot(k.slice(0,t?U+1:U)),Ot(n),Ot(k.slice(U+1)))}return Ge.isSpecialTreatmentAutocompleteRestricted()?k:(n=-1===e.findIndex((function(e){return e.searchQuery===m.toLowerCase()&&e.type===_e.GameSuggestion})),e=e.filter((function(e){return e.searchQuery!==m.toLowerCase()||e.type===_e.GameSuggestion})).slice(0,Ge.isSpecialTreatment()?Ge.numberOfSpecialTreatmentAutocompleteSuggestions:Ge.numberOfAutocompleteSuggestions()),[].concat(Ot(k.slice(0,n?T+1:T)),Ot(e),Ot(k.slice(T+1))))}return k}(0,e.useEffect)((function(){o.ExperimentationService&&o.ExperimentationService.getAllValuesForLayer(Ge.experimentLayer).then((function(e){e.ixpDisableGamesAutocomplete&&O(!0)}))}),[]);var D=ue.pageSort.some((function(e){return-1<window.location.pathname.indexOf(e)})),q=(0,e.useMemo)((function(){return j(f)}),[f,k]),M=q.length;function _(){b(it.generateSessionInfo())}return(0,e.useEffect)((function(){h||Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.search(c,it.actionTypes.submit,v))),S(!1);var e=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==m&&m.length<=Ge.debouncedSearchInputMaxLength)){e.next=34;break}if(p(null),t=Date.now(),D)return e.prev=4,n=Date.now(),e.next=8,Je(m,L,Ge.avatarAutocompleteQueryPaddingAmount,d,N);e.next=20;break;case 8:o=e.sent,i=function(e,t){var n=0,r=[];return e.forEach((function(e){n<Ge.avatarAutocompleteSuggestionLimit&&e.Query!==t&&(r.push(e),n+=1)})),r}(o.Data,m),Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.searchAutocomplete(m,d,!1,i,o.Args.Algo,n-t,Ge.debounceTimeout,"",r.pageName.PageNameProvider.getInternalPageName(),""!==d))),p(i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),r.httpService.isCancelled(e.t0)||p([]),I(!0);case 18:e.next=34;break;case 20:if(Ge.isAutocompleteSuggestionsIXPTestEnabled()&&!A)return e.prev=21,e.next=24,Ye(m);e.next=34;break;case 24:a=e.sent,o=Date.now(),i=j(a.entries),Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.searchAutocomplete(m,d,!1,rt(i,m),a.algorithmName,o-t,Ge.debounceTimeout,v,r.pageName.PageNameProvider.getInternalPageName(),!1))),p(a.entries),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),r.httpService.isCancelled(e.t1)||p([]);case 34:case"end":return e.stop()}}),e,null,[[4,14],[21,31]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){At(o,r,a,i,c,"next",e)}function c(e){At(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();D&&P(ye()),e()}),[m]),t().createElement(xt,{searchInput:c,handleSearch:function(e){(e=e.target.value).length<c.length&&Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.searchTextTrim(c,e,void 0,v))),0===e.length&&_(),x(0),g(0<e.length),s(e)},openMenu:function(){var e=it.generateSessionInfo();Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.search(c,it.actionTypes.open,e))),b(e),0===c.length||E||g(!0)},closeMenu:function(){y&&(Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.search(c,it.actionTypes.close,v))),g(!1))},setIsMenuHover:w,isMenuOpen:y,indexOfSelectedOption:C,onSubmit:function(e){e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=C;!y||e.keyCode!==R.arrowUp&&e.keyCode!==R.arrowDown&&e.keyCode!==R.tab||(e.stopPropagation(),e.preventDefault(),e.keyCode===R.arrowUp?--t:t+=1,(t%=M)<0&&(t=M+t),x(t))},onKeyUp:function(e){var t,n,a,o;e.keyCode===R.enter&&(e.stopPropagation(),e.preventDefault(),t=q[C],Ze(t)?(Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.searchSuggestionClicked(m,void 0,C,t.searchQuery,tt(t),rt(q,c),v))),Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.catalogSearch(1,r.pageName.PageNameProvider.getInternalPageName())))):(Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.searchSuggestionClicked(m,void 0,C,m,nt(t),rt(q,c),v))),Z.eventStreamService.sendEvent.apply(Z.eventStreamService,Ot(it.catalogSearch(0,r.pageName.PageNameProvider.getInternalPageName())))),_(),(o=function(e,t){var n;return He(e)&&$e(e)?B.avatarSearchLink.url+encodeURIComponent(e.Query):He(e)?B.gameSearchLink.url+encodeURIComponent(e.searchQuery):null!=t&&null!==(n=t.target)&&void 0!==n&&n.value?e.url+encodeURIComponent(t.target.value):""}(t,e))&&(n=Ge.isRedirectLibraryToCreatorMarketplaceEnabled,"Label.CreatorMarketplace"===t.label&&n()&&(o=B.creatorMarketplaceUrl,null!=e&&null!==(a=e.target)&&void 0!==a&&a.value&&(o+=encodeURIComponent(e.target.value))),window.location=o))},isUniverseSearchShown:i,translate:a,searchSuggestions:q,autocompleteSessionInfo:v,resetAutocompleteSessionInfo:_,isAvatarAutocompleteEnabled:D})}kt.defaultProps={isUniverseSearchShown:!0},kt.propTypes={translate:R().func.isRequired,isUniverseSearchShown:R().bool};var Pt=(0,l.withTranslations)(kt,N),Tt=(d=angular,n.n(d));function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(a,t().Component);var e,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);return n=t?(n=Dt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!n||"object"!==Ut(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){try{Tt().module("notificationStreamIcon"),Tt().bootstrap(this.container,["notificationStreamIcon"])}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this;return t().createElement("span",{ref:function(t){e.container=t},className:"nav-robux-icon rbx-menu-item"},t().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"}))}}])&&Lt(e.prototype,n),a}();function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(a,t().Component);var e,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ft(e);return n=t?(n=Ft(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!n||"object"!==Mt(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){try{Tt().module("notificationStream"),Tt().bootstrap(this.container,["notificationStream"])}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this,n=ge();n=P()("notification-stream-base",n);return t().createElement("div",{ref:function(t){e.container=t},className:n,"notification-stream-base-view":"true"})}}])&&Bt(e.prototype,n),a}(),Kt="nsCloseContent",Qt="click",Vt={};function Wt(){var n=(0,e.useRef)();return t().createElement("li",{id:"navbar-stream",ref:n,className:"navbar-icon-item navbar-stream notification-margins"},t().createElement(T.Popover,{id:"notification-stream-popover",trigger:"click",placement:"bottom",closeOnClick:!1,button:t().createElement("button",{type:"button",className:"btn-uiblox-common-common-notification-bell-md"},t().createElement(qt,null)),container:n.current,onExit:function(){window.dispatchEvent(new Event("Roblox.NotificationStream.StreamClosed")),Z.eventStreamService.sendEventWithTarget(Kt,Qt,Vt)},role:"menu"},t().createElement(Gt,null)))}Wt.propTypes={};var Ht=Wt;function $t(e){var n=e.accountNotificationCount;e=P()("notification-red notification nav-setting-highlight",{hidden:0===n});return t().createElement("span",{id:"settings-icon",className:"nav-settings-icon rbx-menu-item"},t().createElement("span",{className:"icon-nav-settings roblox-popover-close",id:"nav-settings"}),t().createElement("span",{className:e},n))}$t.defaultProps={accountNotificationCount:0},$t.propTypes={accountNotificationCount:R().number};var zt=$t,Xt={authButtonClick:"authButtonClick",authPageLoad:"authPageLoad"},Yt={homepage:"homepage",accountSwitcherStatus:"accountSwitcherStatus"},Jt={logout:"logout",switchAccount:"switchAccount"};function Zt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function en(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zt(o,r,a,i,c,"next",e)}function c(e){Zt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function tn(){var e=rn("returnUrl")||window.location.href;return e===cn()||e===un()?"":e}function nn(){return function(){var e={url:"".concat(F,"/v2/logout"),withCredentials:!0};return r.httpService.post(e)}().then(en(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)}))))}var rn=r.urlService.getQueryParam,an=r.urlService.composeQueryString,on=j,cn=$,ln=k,un=q,sn=s,mn=(m=function(e){var t,n;e=0<arguments.length&&void 0!==e&&e;return n=c.authenticatedUser.isAuthenticated&&e?(t=tn(),un()):(t=(n=(t=rn("returnUrl")||window.location.href).toLowerCase()).startsWith(cn().toLowerCase())||n.startsWith(ln().toLowerCase())?"":t,on()),"".concat(n,"?").concat(an({returnUrl:t}))},d=function(){var e=null!==o.AccountSwitcherService&&void 0!==o.AccountSwitcherService&&o.AccountSwitcherService.isAccountSwitcherAvailable()?tn():rn("returnUrl")||window.location.href,t=cn();return"".concat(t,"?").concat(an({returnUrl:e}))},j=function(e){e.stopPropagation(),e.preventDefault(),document.dispatchEvent(new CustomEvent(sn.name)),Z.eventStreamService.sendEventWithTarget(Xt.authButtonClick,Yt.homepage,{btn:Jt.logout}),Tt().isUndefined(Tt().element("#chat-container").scope())||(e=Tt().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie")),null!==o.EmailVerificationService&&void 0!==o.EmailVerificationService&&o.EmailVerificationService.handleUserEmailUpsellAtLogout(nn).then((function(e){e&&!e.emailAddress||nn()}))},k=nn,q=function(){var e;return!(e=null!==(e=null==(e=(null===(e=window)||void 0===e?void 0:e.location).pathname)?void 0:e.toLowerCase())&&void 0!==e?e:"").startsWith("/login")&&!e.startsWith("/newlogin")},s=function(e){e.stopPropagation(),e.preventDefault(),e=window.location.href,Z.eventStreamService.sendEventWithTarget(Xt.authButtonClick,Yt.homepage,{btn:Jt.switchAccount,state:e.toString()}),Tt().isUndefined(Tt().element("#chat-container").scope())||(e=Tt().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie"));var t=tn(),n={containerId:"navigation-account-switcher-container",onAccountSwitched:function(e){var n,r;Z.localStorageService.setLocalStorage(A,!0),t&&t!==window.location.href?window.location.href=t:window.location.href=(n=e,r=window.location.href,e=c.authenticatedUser.id,e=new RegExp(e,"g"),r.replace(e,n)),window.location.hash&&window.location.reload()},handleAddAccount:function(){window.location.href="".concat($(),"?").concat(r.urlService.composeQueryString({returnUrl:t}))}};!function(){var e=en(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===o.AccountSwitcherService||void 0===o.AccountSwitcherService?void 0:o.AccountSwitcherService.isAccountSwitcherAvailable();case 2:if(!e.sent){e.next=4;break}null===o.AccountSwitcherService||void 0===o.AccountSwitcherService||o.AccountSwitcherService.renderAccountSwitcher(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},B.settingsUrl),dn=B.quickLoginUrl,fn=j,pn=s,vn=h.quickLogin,bn=h.settings,yn=h.logout,gn=h.switchAccountKey;function hn(e){var n=e.translate,r=e.accountNotificationCount,a=void 0===r?0:r,i=void 0!==(e=e.isCrossDeviceLoginCodeValidationDisplayed)&&e,c=P()("notification-blue notification nav-setting-highlight",{hidden:0===a}),l=(null!==(e=null===o.AccountSwitcherService||void 0===o.AccountSwitcherService?void 0:o.AccountSwitcherService.useIsAccountSwitcherAvailableForBrowser())&&void 0!==e?e:[!1])[0];e=Object.entries(mn).map((function(e){var r=e[0],o=(e=(o=e[1]).url,o.label);return t().createElement("li",{key:r},r===yn&&t().createElement(T.Link,{className:"rbx-menu-item logout-menu-item",key:r,onClick:fn,url:"#"},n(o)),r===gn&&l&&t().createElement(T.Link,{className:"rbx-menu-item account-switch-menu-item",key:r,onClick:pn,url:"#"},n(o)),r===vn&&i&&t().createElement(T.Link,{className:"rbx-menu-item",key:r,url:dn},n(o)),r!==yn&&r!==vn&&r!==gn&&t().createElement(T.Link,{cssClasses:"rbx-menu-item",key:r,url:e},n(o),r===bn&&t().createElement("span",{className:c},a)))}));return t().createElement(t().Fragment,null,e)}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function En(n){var r=n.translate,a=n.accountNotificationCount,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),c=(n=i[0],i[1]);i=(0,e.useRef)();return(0,e.useEffect)((function(){var e;c(!0),e=!(null===o.AccountSwitcherService||void 0===o.AccountSwitcherService||!o.AccountSwitcherService.getStoredAccountSwitcherBlob()),Z.eventStreamService.sendEventWithTarget(Xt.authPageLoad,Yt.accountSwitcherStatus,{state:e.toString()})}),[]),t().createElement("li",{id:"navbar-settings",ref:i,className:"navbar-icon-item"},t().createElement(T.Popover,{id:"settings-popover",trigger:"click",placement:"bottom",className:ge(),containerPadding:20,button:t().createElement("button",{type:"button",className:"btn-navigation-nav-settings-md"},t().createElement(zt,{accountNotificationCount:a})),container:i.current,role:"menu"},t().createElement("div",{className:ge()},t().createElement("ul",{id:"settings-popover-menu",className:"dropdown-menu"},t().createElement(hn,{isCrossDeviceLoginCodeValidationDisplayed:n,translate:r,accountNotificationCount:a})))))}En.defaultProps={accountNotificationCount:0},En.propTypes={translate:R().func.isRequired,accountNotificationCount:R().number};var wn=En;function Cn(n){var a=n.robuxAmount,o=n.isGetCurrencyCallDone,i=n.robuxError;n=n.creditDisplayConfig,a=i?b:r.abbreviateNumber.getTruncValue(a),a=t().createElement(e.Fragment,null,t().createElement("span",{className:"icon-robux-28x28 roblox-popover-close",id:"nav-robux"}),n!==C&&t().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},o&&a));return t().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item"},i?t().createElement(T.Tooltip,{id:"current-error",content:i,placement:"bottom",containerClassName:"nav-buy-robux-icon-tooltip-container"},a):a)}Cn.defaultProps={robuxAmount:0,robuxError:""},Cn.propTypes={robuxAmount:R().number,robuxError:R().string,isGetCurrencyCallDone:R().bool.isRequired,creditDisplayConfig:R().string.isRequired};var xn=Cn;function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nn=B.buyRobuxUrl,In=B.redeemUrl,Rn=new Map;function kn(n){var a=n.translate,o=n.robuxAmount,i=n.robuxError,c=n.creditAmount,l=n.currencyCode,u=n.creditError,s=n.creditDisplayConfig,m=n.openConvertCreditModal,d=(p=An((0,e.useState)(!0),2))[0],f=p[1],p=(n=An((0,e.useState)(!1),2))[0],v=n[1];i=i?b:r.numberFormat.getNumberFormat(o);return(0,e.useEffect)((function(){o<S&&c<E&&s!==C&&f(!1)}),[o,c,s]),(0,e.useEffect)((function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".dropdown-credit-balance"}}))}),[s]),(0,e.useEffect)((function(){0===c?v(!1):Rn.has(c)?v(Rn.get(c)):function(){var e={url:"".concat(H,"/credit-balance/v1/get-conversion-metadata"),withCredentials:!0};return r.httpService.get(e)}().then((function(e){0<e.data.robuxConversionAmount?(Rn.set(c,!0),v(!0)):(Rn.set(c,!1),v(!1))}))}),[c]),t().createElement(e.Fragment,null,t().createElement("div",{className:d?"":"wallet-hidden"},t().createElement("li",{className:"dropdown-wallet"},t().createElement(T.Link,{className:"dropdown-wallet-section"},t().createElement("span",{className:"icon-robux-28x28",id:"nav-robux"}),t().createElement("span",{id:"nav-robux-balance"},i))),s!==w&&t().createElement("li",{className:"dropdown-wallet"},t().createElement(T.Link,{className:"dropdown-wallet-section"},t().createElement("span",{className:"icon-menu-wallet"}),u?b:t().createElement("span",{className:"dropdown-credit-balance","data-amount":c,"data-currency-code":l}))),t().createElement("li",{className:"rbx-divider"})),t().createElement("li",null,t().createElement(T.Link,{cssClasses:"rbx-menu-item",url:Nn.buyRobux.url,onClick:function(){Z.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(Z.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_ROBUX_PURCHASE,!1,Z.paymentFlowAnalyticsService.ENUM_VIEW_NAME.NAVIGATION_DROPDOWN_MENU,Z.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,Z.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX)}},a(Nn.buyRobux.label))),t().createElement("li",null,t().createElement(T.Link,{cssClasses:"rbx-menu-item",url:Nn.myTransactions.url},a(Nn.myTransactions.label))),t().createElement("li",null,t().createElement(T.Link,{cssClasses:"rbx-menu-item",url:In.url},a(In.label))),s!==w&&p&&t().createElement("li",null,t().createElement(T.Link,{cssClasses:"rbx-menu-item",onClick:m},a("Label.ConvertCreditSuccess"))))}kn.defaultProps={robuxAmount:0,robuxError:"",creditAmount:0,currencyCode:"",creditError:""},kn.propTypes={translate:R().func.isRequired,robuxAmount:R().number,robuxError:R().string,creditAmount:R().number,currencyCode:R().string,creditError:R().string,creditDisplayConfig:R().string.isRequired,openConvertCreditModal:R().func.isRequired};var Pn=kn;function Tn(n){var r=n.creditAmount,a=n.currencyCode;n=n.creditError,n=t().createElement(e.Fragment,null,t().createElement("span",{className:"icon-menu-wallet roblox-popover-close",id:"nav-credit-icon"}),t().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},n?t().createElement("div",{className:"nav-credit-text"},b):t().createElement("div",{className:"credit-balance","data-amount":r,"data-currency-code":a})));return(0,e.useEffect)((function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".credit-balance",tagClassName:"navbar-compact nav-credit-text"}}))}),[r,a]),t().createElement(e.Fragment,null,t().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item nav-credit"},n))}Tn.defaultProps={creditAmount:0,creditError:"",currencyCode:"USD"},Tn.propTypes={creditAmount:R().number,creditError:R().string,currencyCode:R().string};var Un=Tn;function Ln(n){var r=n.translate,a=n.robuxAmount,o=n.isGetCurrencyCallDone,i=n.robuxError,c=n.creditAmount,l=n.currencyCode,u=n.creditError,s=n.creditDisplayConfig,m=n.isExperimentCallDone,d=n.openConvertCreditModal;n=(0,e.useRef)();return t().createElement("li",{id:"navbar-robux",ref:n,className:P()("navbar-icon-item",{"robux-popover-margins":s===C})},m&&t().createElement(T.Popover,{id:"buy-robux-popover",trigger:"click",placement:"bottom",button:t().createElement("button",{type:"button",className:"btn-navigation-nav-robux-md"},t().createElement(xn,{robuxAmount:a,isGetCurrencyCallDone:o,robuxError:i,creditDisplayConfig:s}),s===x&&t().createElement(Un,{creditAmount:c,currencyCode:l,creditError:u})),role:"menu",container:n.current},t().createElement("div",{className:ge()},t().createElement("ul",{id:"buy-robux-popover-menu",className:"dropdown-menu"},t().createElement(Pn,{translate:r,robuxAmount:a,robuxError:i,creditAmount:c,currencyCode:l,creditError:u,creditDisplayConfig:s,openConvertCreditModal:d})))))}Ln.defaultProps={robuxAmount:0,robuxError:"",creditAmount:0,creditError:"",currencyCode:"USD",creditDisplayConfig:w,isExperimentCallDone:!1},Ln.propTypes={translate:R().func.isRequired,robuxAmount:R().number,robuxError:R().string,isGetCurrencyCallDone:R().bool.isRequired,creditAmount:R().number,currencyCode:R().string,creditError:R().string,creditDisplayConfig:R().string,isExperimentCallDone:R().bool,openConvertCreditModal:R().func.isRequired};var jn=Ln;function Dn(e){return e=e.toggleUniverseSearch,t().createElement("li",{className:"rbx-navbar-right-search"},t().createElement("button",{type:"button",className:"rbx-menu-item btn-navigation-nav-search-white-md",onClick:e},t().createElement("span",{className:"icon-nav-search-white"})))}Dn.propTypes={toggleUniverseSearch:R().func.isRequired};var qn=Dn,Mn=RobloxPresence;function Bn(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fn(n){var r=n.translate,a=(0,e.useRef)(null),i=c.authenticatedUser.isUnder13,l=(0,L.currentUserHasVerifiedBadge)()&&L.VerifiedBadgeIconContainer?t().createElement("section",{ref:function(e){a.current=e}},t().createElement(L.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-header",size:L.BadgeSizes.CAPTIONHEADER})):null,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),s=(n=u[0],u[1]);return(0,e.useEffect)((function(){function e(){var t;return t=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,o.ExperimentationService.getAllValuesForLayer("Social.Friends");case 4:t=e.sent,s(null!==(t=t.invisibleModeAllowed)&&void 0!==t&&t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),(e=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){Bn(o,r,a,i,c,"next",e)}function c(e){Bn(o,r,a,i,c,"throw",e)}i(void 0)}))}).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t().createElement("div",{className:"age-bracket-label text-header"},t().createElement(T.Link,{className:"text-link dynamic-overflow-container",url:B.scrollListItems.profile.url},t().createElement("span",{className:"avatar avatar-headshot-xs"},t().createElement(U.Thumbnail2d,{containerClass:"avatar-card-image",targetId:c.authenticatedUser.id,type:U.ThumbnailTypes.avatarHeadshot,altName:c.authenticatedUser.name}),n&&o.CurrentUser.userId&&t().createElement(Mn.PresenceStatusIcon,{translate:r,className:"avatar-status",userId:Number.parseInt(o.CurrentUser.userId,10)})),t().createElement("span",{className:"text-overflow age-bracket-label-username font-caption-header"},Pe.nameForDisplay),l),t().createElement("span",{className:"xsmall age-bracket-label-age text-secondary"},i?"<13":"13+"))}function Gn(e){return Xn(void 0,void 0,Promise,(function(){var t,n;return Yn(this,(function(a){return t={paymentProviderType:"Credit",providerPayload:{product_id:0===e||null==e?void 0:e}},n={withCredentials:!0,url:o.EnvironmentUrls.apiGatewayUrl+"/payments-gateway/v1/process-payment"},[2,r.httpService.post(n,t)]}))}))}Fn.propTypes={translate:R().func.isRequired};var Kn=Fn,Qn=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},Vn="Action.Cancel",Wn="Alert.GenericFailure",Hn="NewCreditConversionGetNextPurchasableFailedStatusCode",$n="ProcessPaymentRequestFailedStatusCode",zn={common:["CommonUI.Controls","CommonUI.Features"],feature:"Purchasing.RedeemGameCard"},Xn=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function c(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},Yn=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Jn=["JPY"],Zn={PRICE_DATA_NOT_VALID:(h="PriceTag")+"DataNotValid",NUMBER_FORMAT_LOCALE_EXCEPTION:h+"NumberFormatLocaleException",ARABIC_LOCALE_TRIGGERED:h+"ArabicLocale"};function er(e){var n=e.amount,r=e.currencyCode,a=e.tagClassName,o=(e=n<0,Math.abs(n)),i=""+o+r,c=P()("price-tag",a);try{var l=(u=Intl.NumberFormat().resolvedOptions().locale).startsWith("ar-")?((0,Qn.fireEvent)(Zn.ARABIC_LOCALE_TRIGGERED),u.replace("ar-","en-")):u,u={style:"currency",currency:r,notation:"standard"};1e4<=o&&!Jn.includes(r)&&(u.minimumFractionDigits=0,u.maximumFractionDigits=2,u.maximumSignificantDigits=21,u.notation="compact"),c.split(" ").includes("navbar-compact")&&(u.maximumSignificantDigits=4),i=Intl.NumberFormat(l,u).format(o)}catch(e){(0,Qn.fireEvent)(Zn.NUMBER_FORMAT_LOCALE_EXCEPTION)}return t().createElement("div",{className:"d-flex-inline gap-1 justify-content-start align-items-center"},e&&t().createElement("span",{className:c},"-"),t().createElement("span",{className:c},i))}er.propTypes={amount:R().number.isRequired,currencyCode:R().string.isRequired};var tr,nr,rr=er,ar=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function c(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},or=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ir=(s=(0,T.createModal)(),tr=s[0],h=[function(e){var n=e.availableBalance,r=e.totalBalanceDue,a=e.currencyCode,o=e.numberOfPurchase,i=e.robuxAmountInPackage,c=e.loading,l=e.onNeutral,u=e.onPurchase;e=e.translate;return t().createElement(tr,{id:"purchase-product-modal",title:e("Heading.BuyRobuxWithCredit"),body:t().createElement("div",{className:"d-flex justify-content-center flex-direction-column text-center"},t().createElement("div",{className:"purchase-prompt"},1===o?e("Message.Step1LargestAvailablePackageYouCanBuy")||"Largest package you can buy with your available credit:":e("Message.Step2NextLargestPackage")),t().createElement("div",{className:"purchase-logo"},t().createElement("div",{className:P()("robux-product-logo","margin-auto","robux-"+i)}),t().createElement("div",null,t().createElement("span",{className:"icon-robux-16x16"}),t().createElement("span",{className:"text-robux"},i))),t().createElement("div",{className:"purchase-summary d-flex flex-direction-column text-left"},t().createElement("div",{className:"available-credit d-flex justify-content-between"},t().createElement("span",null,e("Label.AvailableCreditWithColon")),t().createElement(rr,{amount:n,currencyCode:a})),t().createElement("div",{className:"balance-due d-flex justify-content-between"},t().createElement("span",null,e("Label.BalanceDue")),t().createElement(rr,{amount:-1*r,currencyCode:a})),t().createElement("div",{className:"rbx-divider"}),t().createElement("div",{className:"credit-after-transaction d-flex justify-content-between"},t().createElement("span",null,e("Label.CreditAfterTransaction")),t().createElement(rr,{amount:n-r,currencyCode:a})))),neutralButtonText:e(Vn),actionButtonText:e("Action.Buy"),onNeutral:l,onAction:u,loading:c,actionButtonShow:!0})},s[1]])[0],cr=h[1],lr=(s=(0,T.createModal)(),nr=s[0],h=[function(e){var n=e.remainingCreditBalance,r=e.currencyCode,a=e.robuxConversionAmount,o=e.loading,i=e.numberOfPurchase,c=e.onConvert,l=e.onNeutral;e=e.translate,a=t().createElement("div",{className:"text-center conversion-message",dangerouslySetInnerHTML:{__html:1===i?e("Message.ConvertCreditToRobux",{robuxAmount:'<br /><span class="icon-robux-16x16"></span>'+a}):e("Message.Step3ConvertRobux",{remainingCreditBalance:"<span class='fiat-price-tag ml-1' data-amount="+n+" data-currency-code="+r+"></span>",lineBreaker:"<br />",robuxConversionAmount:'<span class="icon-robux-16x16"></span>'+a})},ref:function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".fiat-price-tag"}}))}});return t().createElement(nr,{id:"convert-credit-modal",title:e("Label.ConvertCreditSuccess"),body:a,neutralButtonText:e(Vn),actionButtonText:e("Action.ConvertToRobux"),onNeutral:l,onAction:c,loading:o,actionButtonShow:!0})},s[1]])[0],ur=h[1];function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dr=D,fr=(D=sr((0,T.createSystemFeedback)(),2))[0],pr=D[1];function vr(n){var a=n.translate,i=n.toggleUniverseSearch,u=c.authenticatedUser.isAuthenticated,s=c.authenticatedUser.id,m=(C=sr((0,e.useState)(0),2))[0],d=C[1],f=(P=sr((0,e.useState)(!1),2))[0],p=P[1],v=(N=sr((0,e.useState)(0),2))[0],b=N[1],g=(U=sr((0,e.useState)(""),2))[0],h=U[1],S=(R=sr((0,e.useState)(w),2))[0],E=R[1],C=(n=sr((0,e.useState)(null),2))[0],x=n[1],N=(P=sr((0,e.useState)(null),2))[0],I=P[1],R=(U=sr((0,e.useState)(""),2))[0],k=U[1],P=(n=sr((0,e.useState)(!1),2))[0],T=n[1],U=(n=(U=sr((0,e.useState)(0),2))[0],U[1]),L=(n=sr(function(n){function a(){b.warning(y(Wn)||"Something went wrong! Please try again later."),cr.close(),ur.close()}function i(e,t){t=0===t||null==t,e?b.success(y(t?"Alert.SuccessfullyConvertedCreditToRobux":"Alert.RobuxPackagePurchased")):b.warning(y(t?"Heading.CreditConversionFail":"Alert.RobuxPackagePurchaseFailed")||y(Wn)||"Something went wrong! Please try again later.")}function c(){return ar(u,void 0,void 0,(function(){var e;return or(this,(function(t){switch(t.label){case 0:N(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,Xn(void 0,void 0,Promise,(function(){var e;return Yn(this,(function(t){return e={withCredentials:!0,url:o.EnvironmentUrls.apiGatewayUrl+"/credit-balance/v1/get-next-purchasable-metadata"},[2,r.httpService.get(e)]}))}))];case 2:return 200!==(e=t.sent()).status?(b.warning(y(Wn)||"Something went wrong! Please try again later."),N(!1),(0,Qn.fireEvent)(Hn),(0,Qn.fireEvent)(""+Hn+e.status),[2]):0===(e=e.data).creditBalance||0===e.productId&&0===e.robuxConversionAmount?(N(!1),ur.close(),cr.close(),m(e.creditBalance),(0,Qn.fireEvent)("NewCreditConversionGetNextPurchasableCreditBalanceZero"),[2]):(m(e.creditBalance),f(e.currencyCode),v(e.robuxConversionAmount),h(e.productId),C(e.balanceDue),A(e.robuxAmountProductGrant),0===e.productId?(ur.open(),cr.close(),(0,Qn.fireEvent)("NewCreditConversionGetNextPurchasableConversion")):(cr.open(),(0,Qn.fireEvent)("NewCreditConversionGetNextPurchasableProductPurchase")),[3,5]);case 3:return t.sent(),a(),(0,Qn.fireEvent)("NewCreditConversionGetNextPurchasableUnexpectedException"),[3,5];case 4:return N(!1),[7];case 5:return[2]}}))}))}var u=this,s=n.creditBalance,m=n.setCreditBalance,d=n.currencyCode,f=n.setCurrencyCode,p=n.convertedRobuxAmount,v=n.setConvertedRobuxAmount,b=n.systemFeedbackService,y=n.translate,g=(n=(0,e.useState)(0))[0],h=n[1],S=(n=(0,e.useState)(0))[0],E=n[1],w=(n=(0,e.useState)(0))[0],C=n[1],x=(n=(0,e.useState)(0))[0],A=n[1],O=(n=(0,e.useState)(!1))[0],N=n[1],I=function(){return ar(u,void 0,void 0,(function(){var e,t,n;return or(this,(function(r){switch(r.label){case 0:N(!0),r.label=1;case 1:return r.trys.push([1,6,7,8]),[4,Gn(g)];case 2:return 200!==(e=r.sent()).status?(i(!1,g),N(!1),(0,Qn.fireEvent)($n),(0,Qn.fireEvent)(""+$n+e.status),[2]):(i((t=e.data).isSuccess,g),t.isSuccess&&null!==(n=t.providerPayload)&&void 0!==n&&n.IsSuccessful?[4,c()]:[3,4]);case 3:return r.sent(),E(S+1),(0,Qn.fireEvent)("ProcessPaymentNextStep"),[3,5];case 4:cr.close(),ur.close(),(0,Qn.fireEvent)("ProcessPaymentNotSuccessful"),r.label=5;case 5:return(0,Qn.fireEvent)("ProcessPaymentNotSuccessful"+t.providerPayload.ResponseMessage),[3,8];case 6:return r.sent(),a(),(0,Qn.fireEvent)("ProcessPaymentUnexpectedException"),[3,8];case 7:return N(!1),[7];case 8:return[2]}}))}))};return[(0,l.withTranslations)((function(){function n(){0===g?(ur.close(),(0,Qn.fireEvent)("ConversionCancelClicked")):(cr.close(),(0,Qn.fireEvent)("ProductPurchaseCancelClicked"))}return t().createElement(e.Fragment,null,t().createElement(ir,{availableBalance:s,totalBalanceDue:w,currencyCode:d,numberOfPurchase:S,robuxAmountInPackage:x,onPurchase:function(){I()},onNeutral:n,loading:O,translate:y}),t().createElement(lr,{remainingCreditBalance:s,currencyCode:d,robuxConversionAmount:p,numberOfPurchase:S,onConvert:function(){I()},onNeutral:n,loading:O,translate:y}))}),zn),function(){E(0),c(),E(1)}]}({creditBalance:C,setCreditBalance:x,currencyCode:N,setCurrencyCode:I,convertedRobuxAmount:n,setConvertedRobuxAmount:U,systemFeedbackService:pr,translate:a}),2),U=n[0],n[1]);(0,e.useEffect)((function(){if(u){dr().then(d),function(e){return e={url:z(e),withCredentials:!0},r.httpService.get(e)}(s).then((function(e){e=e.data,b(e.robux)}),(function(){h(a(y))})).finally((function(){p(!0)})),function(){var e={url:"".concat(H,"/credit-balance/v1/get-credit-balance-for-navigation"),withCredentials:!0};return r.httpService.get(e)}().then((function(e){var t=e.data;null===t.creditDisplayConfig||null===t.creditBalance||null===t.currencyCode?E(w):E(null!==(e=t.creditDisplayConfig)&&void 0!==e?e:w),x(t.creditBalance),I(t.currencyCode)}),(function(){k(a(y))})).finally((function(){T(!0)}));try{Z.localStorageService.getLocalStorage(A)&&(pr.success(a(O,{accountName:c.authenticatedUser.name}),0,5e3),Z.localStorageService.removeLocalStorage(A))}catch(e){}}}),[u,s]);var j=t().createElement("li",{id:"navbar-stream",className:"navbar-icon-item navbar-stream"},t().createElement("span",{className:"nav-robux-icon rbx-menu-item"},t().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"})));try{Tt().module("notificationStreamIcon"),Tt().module("notificationStream"),j=t().createElement(Ht,null)}catch(n){console.log(n)}return t().createElement("ul",{className:"nav navbar-right rbx-navbar-icon-group"},t().createElement(fr,null),t().createElement(Kn,{translate:a}),t().createElement(qn,{translate:a,toggleUniverseSearch:i}),j,t().createElement(jn,{translate:a,robuxAmount:v,isGetCurrencyCallDone:f,robuxError:g,creditAmount:C,currencyCode:N,creditError:R,creditDisplayConfig:S,isExperimentCallDone:P,openConvertCreditModal:function(){L()}}),t().createElement(wn,{translate:a,accountNotificationCount:m}),t().createElement(U,null))}vr.defaultProps={accountNotificationCount:0},vr.propTypes={translate:R().func.isRequired,accountNotificationCount:R().number,toggleUniverseSearch:R().func.isRequired};var br=(0,l.withTranslations)(vr,{common:["CommonUI.Features","Common.AlertsAndOptions"],feature:"Purchasing.RedeemGameCard"});function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gr=m;function hr(e){var n=e.translate,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(null!==(e=null===o.AccountSwitcherService||void 0===o.AccountSwitcherService?void 0:o.AccountSwitcherService.useIsAccountSwitcherAvailableForBrowser())&&void 0!==e?e:[!1],1)[0];return t().createElement("li",{className:"signup-button-container"},t().createElement(T.Link,{onClick:function(){window.location.href=gr(r)},url:gr(r),id:"sign-up-button",className:"rbx-navbar-signup btn-growth-sm nav-menu-title signup-button"},n("Label.sSignUp")))}function Sr(){window.location.href=Cr()}hr.propTypes={translate:R().func.isRequired};var Er=hr,wr=q,Cr=d;function xr(e){return e=e.translate,t().createElement("li",{className:"login-action"},wr()&&t().createElement(T.Link,{onClick:Sr,url:Cr(),className:"rbx-navbar-login btn-secondary-sm nav-menu-title rbx-menu-item"},e("Label.sLogin")))}xr.propTypes={translate:R().func.isRequired};var Ar=xr;function Or(){return(Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nr(e){var n=e.translate,r=e.toggleUniverseSearch;e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["translate","toggleUniverseSearch"]);return c.authenticatedUser.isAuthenticated?t().createElement("div",{className:"navbar-right rbx-navbar-right"},t().createElement(br,Or({translate:n,toggleUniverseSearch:r},e))):t().createElement("div",{className:"navbar-right rbx-navbar-right"},t().createElement("ul",{className:"nav navbar-right rbx-navbar-right-nav"},t().createElement(Er,{translate:n}),t().createElement(Ar,{translate:n}),t().createElement(qn,{translate:n,toggleUniverseSearch:r})))}Nr.propTypes={translate:R().func.isRequired,toggleUniverseSearch:R().func.isRequired};var Ir=Nr;function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tr=(0,l.withTranslations)((function(n){var r=ve(),a=kr((0,e.useState)(r),2),o=a[0],i=a[1],c=(r=(a=kr((0,e.useState)(!r),2))[0],a[1]),l=(0,e.useCallback)((function(){var e=ve();o!==e&&(i(e),c(!e))}),[o]);return(0,e.useEffect)((function(){return window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[l]),t().createElement(t().Fragment,null,t().createElement(Pt,Rr({isUniverseSearchShown:r},n)),t().createElement(Ir,Rr({toggleUniverseSearch:function(){c((function(e){return!e}))}},n)))}),N);function Ur(e){e=e.translate;var n=document.getElementById("container-main");return t().createElement(T.Button,{id:"skip-to-main-content",size:T.Button.sizes.extraSmall,variant:T.Button.variants.primary,onClick:function(){return n.focus()}},e("Action.SkipToMainContent")||"Skip to main content")}Ur.propTypes={translate:R().func.isRequired};var Lr=Ur,jr=g,Dr=c.authenticatedUser.isAuthenticated;function qr(n){var r=T.IconButton.iconTypes;return t().createElement(e.Fragment,null,t().createElement(Lr,n),Dr&&t().createElement(T.IconButton,{className:"menu-button",iconType:r.navigation,iconName:"nav-menu",onClick:function(){document.dispatchEvent(new CustomEvent(jr.name))}}))}qr.propTypes={};var Mr=(0,l.withTranslations)(qr,N);function Br(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(226);var Fr="right-navigation-header",Gr="left-navigation-container",Kr="header-menu-icon";i().NavigationService=_r(_r({},i().NavigationService),{},{logoutAndRedirect:k}),(0,r.ready)((function(){document.getElementById(Kr)&&(0,a.render)(t().createElement(Mr,null),document.getElementById(Kr)),document.getElementById(Fr)&&(0,a.render)(t().createElement(Tr,null),document.getElementById(Fr)),document.getElementById(Gr)&&(0,a.render)(t().createElement(Fe,null),document.getElementById(Gr))}))}()}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("Navigation");